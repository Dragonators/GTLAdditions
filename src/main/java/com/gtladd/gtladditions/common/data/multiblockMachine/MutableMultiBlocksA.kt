package com.gtladd.gtladditions.common.data.multiblockMachine

import com.gregtechceu.gtceu.api.data.chemical.ChemicalHelper
import com.gregtechceu.gtceu.api.data.tag.TagPrefix
import com.gregtechceu.gtceu.api.machine.MultiblockMachineDefinition
import com.gregtechceu.gtceu.api.machine.multiblock.PartAbility
import com.gregtechceu.gtceu.api.pattern.FactoryBlockPattern
import com.gregtechceu.gtceu.api.pattern.Predicates
import com.gregtechceu.gtceu.common.data.GCyMBlocks
import com.gregtechceu.gtceu.common.data.GTBlocks
import com.gregtechceu.gtceu.common.data.GTMaterials
import com.gtladd.gtladditions.api.machine.GTLAddPartAbility
import net.minecraft.world.level.block.Blocks
import net.minecraft.world.level.material.Fluids
import org.gtlcore.gtlcore.common.data.GTLBlocks
import org.gtlcore.gtlcore.common.data.GTLMaterials
import org.gtlcore.gtlcore.utils.Registries
import java.util.function.Function

@Suppress("DuplicatedCode")
object MutableMultiBlocksA{
    val FISHING_GROUND = Function { definition: MultiblockMachineDefinition ->
        FactoryBlockPattern.start()
            .aisle("bbbbbbbbb", "bbbbbbbbb", "bbbbbbbbb")
            .aisle("bbbbbbbbb", "bcccccccb", "bcccccccb")
            .aisle("bbbbbbbbb", "bcccccccb", "bcccccccb")
            .aisle("bbbbbbbbb", "bcccccccb", "bcccccccb")
            .aisle("bbbbbbbbb", "bcccccccb", "bcccccccb")
            .aisle("bbbbbbbbb", "bcccccccb", "bcccccccb")
            .aisle("bbbbbbbbb", "bcccccccb", "bcccccccb")
            .aisle("bbbbbbbbb", "bcccccccb", "bcccccccb")
            .aisle("bbbbabbbb", "bbbbbbbbb", "bbbbbbbbb")
            .where("a", Predicates.controller(Predicates.blocks(definition.get())))
            .where(
                "b", Predicates.blocks(GTLBlocks.ALUMINIUM_BRONZE_CASING.get())
                    .setMinGlobalLimited(60)
                    .or(Predicates.autoAbilities(*definition.recipeTypes))
                    .or(Predicates.abilities(PartAbility.PARALLEL_HATCH).setMaxGlobalLimited(1))
                    .or(Predicates.abilities(PartAbility.MAINTENANCE).setExactLimit(1))
                    .or(Predicates.abilities(GTLAddPartAbility.THREAD_MODIFIER).setMaxGlobalLimited(1))
            )
            .where("c", Predicates.fluids(Fluids.WATER))
            .where(" ", Predicates.air())
            .build()
    }

    val LARGE_GREENHOUSE = Function { definition: MultiblockMachineDefinition ->
        FactoryBlockPattern.start()
            .aisle("aaaaaaaaa", "aaaaaaaaa", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "aaaaaaaaa", "aaaaaaaaa")
            .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
            .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
            .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
            .aisle("aaaaaaaaa", "addddddda", "c       c", "c       c", "c       c", "c       c", "c       c", "c       c", "accccccca", "afffffffa")
            .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
            .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
            .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
            .aisle("aaaaaaaaa", "aaaa~aaaa", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "aaaaaaaaa", "aaaaaaaaa")
            .where("~", Predicates.controller(Predicates.blocks(definition.get())))
            .where("b", Predicates.blocks(GTBlocks.CASING_TEMPERED_GLASS.get()))
            .where("c", Predicates.blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
            .where("d", Predicates.blocks(Blocks.PACKED_MUD))
            .where("e", Predicates.blocks(GTBlocks.CASING_POLYTETRAFLUOROETHYLENE_PIPE.get()))
            .where("f", Predicates.blocks(GTBlocks.CASING_GRATE.get()))
            .where(
                "a", Predicates.blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                    .setMinGlobalLimited(180)
                    .or(Predicates.autoAbilities(*definition.recipeTypes))
                    .or(Predicates.abilities(PartAbility.PARALLEL_HATCH).setMaxGlobalLimited(1))
                    .or(Predicates.abilities(PartAbility.MAINTENANCE).setExactLimit(1))
                    .or(Predicates.abilities(GTLAddPartAbility.THREAD_MODIFIER).setMaxGlobalLimited(1))
            )
            .where(" ", Predicates.air())
            .build()
    }

    val A_MASS_FABRICATOR = Function { definition: MultiblockMachineDefinition ->
        FactoryBlockPattern.start()
            .aisle("AAAAAAAAAAA", "           ", "           ", "           ", "           ", "           ", "AAAAAAAAAAA")
            .aisle("AAAAAAAAAAA", " AAAAAAAAA ", " AAAAAAAAA ", " AAAAAAAAA ", " AAAAAAAAA ", " AAAAAAAAA ", "AAAAAAAAAAA")
            .aisle("AAAAAAAAAAA", " BC D D CB ", " BC DED CB ", " BC EFE CB ", " BC DED CB ", " BC D D CB ", "AAAAAAAAAAA")
            .aisle("AAAAAAAAAAA", " BC D D CB ", " BC DED CB ", " BC EFE CB ", " BC DED CB ", " BC D D CB ", "AAAAAAAAAAA")
            .aisle("AAAAAAAAAAA", " BC D D CB ", " BC DED CB ", " BC EFE CB ", " BC DED CB ", " BC D D CB ", "AAAAAAAAAAA")
            .aisle("AAAAAAAAAAA", " BC D D CB ", " BC DED CB ", " BC EFE CB ", " BC DED CB ", " BC D D CB ", "AAAAAAAAAAA")
            .aisle("AAAAAAAAAAA", " BC D D CB ", " BC DED CB ", " BC EFE CB ", " BC DED CB ", " BC D D CB ", "AAAAAAAAAAA")
            .aisle("AAAAAAAAAAA", " BC D D CB ", " BC DED CB ", " BC EFE CB ", " BC DED CB ", " BC D D CB ", "AAAAAAAAAAA")
            .aisle("AAAAAAAAAAA", " BC D D CB ", " BC DED CB ", " BC EFE CB ", " BC DED CB ", " BC D D CB ", "AAAAAAAAAAA")
            .aisle("AAAAAAAAAAA", " BC D D CB ", " BC DED CB ", " BC EFE CB ", " BC DED CB ", " BC D D CB ", "AAAAAAAAAAA")
            .aisle("AAAAAAAAAAA", " BC D D CB ", " BC DED CB ", " BC EFE CB ", " BC DED CB ", " BC D D CB ", "AAAAAAAAAAA")
            .aisle("AAAAAAAAAAA", " BC D D CB ", " BC DED CB ", " BC EFE CB ", " BC DED CB ", " BC D D CB ", "AAAAAAAAAAA")
            .aisle("AAAAAAAAAAA", " AAIIIIIAA ", " AAIIIIIAA ", " AAIIIIIAA ", " AAIIIIIAA ", " AAIIIIIAA ", "AAAAAAAAAAA")
            .aisle("AAAAASAAAAA", "           ", "           ", "           ", "           ", "           ", "AAAAAAAAAAA")
            .where("S", Predicates.controller(Predicates.blocks(definition.get())))
            .where("A", Predicates.blocks(GTBlocks.MACHINE_CASING_UXV.get()))
            .where(
                "I", Predicates.blocks(GTBlocks.MACHINE_CASING_UXV.get())
                    .or(Predicates.autoAbilities(*definition.recipeTypes))
                    .or(Predicates.abilities(PartAbility.PARALLEL_HATCH).setMaxGlobalLimited(1))
                    .or(Predicates.abilities(PartAbility.INPUT_LASER).setMaxGlobalLimited(1))
                    .or(Predicates.abilities(PartAbility.MAINTENANCE).setExactLimit(1))
                    .or(Predicates.abilities(GTLAddPartAbility.THREAD_MODIFIER).setMaxGlobalLimited(1))
            )
            .where("B", Predicates.blocks(GTLBlocks.RHENIUM_REINFORCED_ENERGY_GLASS.get()))
            .where("C", Predicates.blocks(Registries.getBlock("kubejs:titansteel_coil_block")))
            .where("D", Predicates.blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Neutronium)))
            .where("E", Predicates.blocks(Registries.getBlock("kubejs:hollow_casing")))
            .where("F", Predicates.blocks(GTLBlocks.HYPER_CORE.get()))
            .build()
    }

    val LARGE_RECYCLER = Function { definition: MultiblockMachineDefinition ->
        FactoryBlockPattern.start()
            .aisle("bbb", "bbb", "bbb")
            .aisle("bbb", "bcb", "bbb")
            .aisle("bbb", "bab", "bbb")
            .where("a", Predicates.controller(Predicates.blocks(definition.get())))
            .where("b", Predicates.blocks(GTBlocks.STEEL_HULL.get())
                .setMinGlobalLimited(14)
                .or(Predicates.autoAbilities(*definition.recipeTypes))
                .or(Predicates.abilities(PartAbility.MAINTENANCE).setExactLimit(1))
                .or(Predicates.abilities(GTLAddPartAbility.THREAD_MODIFIER).setMaxGlobalLimited(1)))
            .where("c", Predicates.blocks(GTBlocks.CASING_BRONZE_GEARBOX.get()))
            .build()
    }

    val ADVANCED_SPS_CRAFTING = Function { definition: MultiblockMachineDefinition ->
        FactoryBlockPattern.start()
            .aisle("               ", "               ", "               ", "               ", "       c       ", "      ccc      ", "     ccccc     ", "      ccc      ", "       c       ", "               ", "               ", "               ", "               ")
            .aisle("               ", "               ", "       c       ", "       c       ", "      ccc      ", "     ccccc     ", "   ccgggggcc   ", "     ccccc     ", "      ccc      ", "       c       ", "       c       ", "               ", "               ")
            .aisle("               ", "       c       ", "      ccc      ", "     ccccc     ", "    cc   cc    ", "   ccbiiibcc   ", "  cggiieiiggc  ", "   ccbiiibcc   ", "    cc   cc    ", "     ccccc     ", "      ccc      ", "       c       ", "               ")
            .aisle("       c       ", "      ccc      ", "    cc   cc    ", "   cc     cc   ", "   c       c   ", "  cb       bc  ", " cgci     icgc ", "  cb       bc  ", "   c       c   ", "   cc     cc   ", "    cc   cc    ", "      ccc      ", "       c       ")
            .aisle("       c       ", "     ccccc     ", "   cc     cc   ", "   c       c   ", "  c         c  ", "  cb       bc  ", " cgi       igc ", "  cb       bc  ", "  c         c  ", "   c       c   ", "   cc     cc   ", "     ccccc     ", "       c       ")
            .aisle("      ccc      ", "    ccbibcc    ", "   c       c   ", "  c         c  ", "  c         c  ", " cb         bc ", "cgi         igc", " cb         bc ", "  c         c  ", "  c         c  ", "   c       c   ", "    ccbibcc    ", "      ccc      ")
            .aisle("     ccccc     ", "   ccbiiibcc   ", "  c    i    c  ", "  c         c  ", " c           c ", "cci         icc", "cgi         igc", "cci         icc", " c           c ", "  c         c  ", "  c    i    c  ", "   ccbiiibcc   ", "     ccccc     ")
            .aisle("   ccccccccc   ", "  ccciiiiiccc  ", " cc   iei   cc ", " cc         cc ", "cc           cc", "cci         icc", "cge         egc", "cci         icc", "cc           cc", " cc         cc ", " cc   iei   cc ", "  ccciiiiiccc  ", "   ccccccccc   ")
            .aisle("     ccccc     ", "   ccbiiibcc   ", "  c    i    c  ", "  c         c  ", " c           c ", "cci         icc", "cgi         igc", "cci         icc", " c           c ", "  c         c  ", "  c    i    c  ", "   ccbiiibcc   ", "     ccccc     ")
            .aisle("      ccc      ", "    ccbibcc    ", "   c       c   ", "  c         c  ", "  c         c  ", " cb         bc ", "cgi         igc", " cb         bc ", "  c         c  ", "  c         c  ", "   c       c   ", "    ccbibcc    ", "      ccc      ")
            .aisle("       c       ", "     ccccc     ", "   cc     cc   ", "   c       c   ", "  c         c  ", "  cb       bc  ", " cgi       igc ", "  cb       bc  ", "  c         c  ", "   c       c   ", "   cc     cc   ", "     ccccc     ", "       c       ")
            .aisle("       c       ", "      ccc      ", "    cc   cc    ", "   cc     cc   ", "   c       c   ", "  cb       bc  ", " cgci     icgc ", "  cb       bc  ", "   c       c   ", "   cc     cc   ", "    cc   cc    ", "      ccc      ", "       c       ")
            .aisle("               ", "       c       ", "      ccc      ", "     ccccc     ", "    cc   cc    ", "   ccbiiibcc   ", "  cggiieiiggc  ", "   ccbiiibcc   ", "    cc   cc    ", "     ccccc     ", "      ccc      ", "       c       ", "               ")
            .aisle("               ", "               ", "       c       ", "       c       ", "      ccc      ", "     ccccc     ", "   ccgggggcc   ", "     ccccc     ", "      ccc      ", "       c       ", "       c       ", "               ", "               ")
            .aisle("               ", "               ", "               ", "               ", "       c       ", "      ccc      ", "     ccacc     ", "      ccc      ", "       c       ", "               ", "               ", "               ", "               ")
            .where("a", Predicates.controller(Predicates.blocks(definition.get())))
            .where("b", Predicates.blocks(GTBlocks.FUSION_CASING.get()))
            .where("c", Predicates.blocks(GTBlocks.FUSION_CASING_MK2.get())
                .setMinGlobalLimited(400)
                .or(Predicates.autoAbilities(*definition.recipeTypes))
                .or(Predicates.abilities(PartAbility.PARALLEL_HATCH).setMaxGlobalLimited(1))
                .or(Predicates.abilities(PartAbility.INPUT_LASER).setMaxGlobalLimited(1))
                .or(Predicates.abilities(PartAbility.MAINTENANCE).setExactLimit(1))
                .or(Predicates.abilities(GTLAddPartAbility.THREAD_MODIFIER).setMaxGlobalLimited(1)))
            .where("e", Predicates.blocks(Registries.getBlock("kubejs:magic_core")))
            .where("g", Predicates.blocks(GTBlocks.FUSION_COIL.get()))
            .where("i", Predicates.blocks(GTLBlocks.SPS_CASING.get()))
            .where(" ", Predicates.any())
            .build()
    }

    val PETROCHEMICAL_PLANT = Function { definition: MultiblockMachineDefinition ->
        FactoryBlockPattern.start()
            .aisle("AAAAAAAAAA", "BBBBBBBBBB", "BCCCBBBHBB", "BBBBBBBBBB", "BBBBBBBBBB", "          ", "          ", "          ", "          ", "          ", "          ", "          ", "          ", "          ")
            .aisle("ABBBBBBBBA", "BKKKB DDDC", "CDDDC DGDC", "BKKKB DDDC", "BBBBBBBBBB", " BBBBBBBB ", "          ", "          ", "          ", "          ", "          ", "          ", "          ", "          ")
            .aisle("ABBBBBBBBA", "BKKKB    B", "CDMDC  G B", "BKIKB  G B", "BBIBBBBGBB", " BIIIIIIB ", "  BBBBBB  ", "          ", "          ", "          ", "          ", "          ", "          ", "          ")
            .aisle("ABBBBBBBBA", "BKKKB DDDC", "CDIDC DGDC", "BKKKB DDDC", "BBBBBBBBBB", " BBBBBBBB ", "  BBBBBB  ", "          ", "          ", "          ", "          ", "          ", "          ", "          ")
            .aisle("ABBBBBBBBA", "BKKKB    B", "CDMDC  G B", "BKIKB  G B", "BBIBBBBGBB", " BIIIIIIB ", "  BBBBBB  ", "          ", "          ", "          ", "          ", "          ", "          ", "          ")
            .aisle("ABBBBBBBBA", "BKKKB DDDC", "CDIDC DGDC", "BKKKB DDDC", "BBIBBBBBBB", " BBBBBBBB ", "  BBBBBB  ", "          ", "          ", "          ", "          ", "          ", "          ", "          ")
            .aisle("ABBBBBBBBA", "BBBBBBBBBB", "BBIBBBBGBB", "BBBBBBBBBB", "BBIBBBBBBB", "BBBBBBBBBB", "BBBBBBBBBB", "BBBBBBBBBB", "BBBBBBBBBB", "BBBBBBBBBB", "BBBBB     ", "BBBBB     ", "BBBBB     ", "BBBBB     ")
            .aisle("ABBBBBBBBA", "B   BB   B", "B   BB   B", "B   BB   B", "B   BB   B", "B   BB   B", "B   BB   B", "B   BB   B", "B   BB   B", "B   BBBBBB", "B   B     ", "B   B     ", "B   B     ", "BBBBB     ")
            .aisle("ABBBBBBBBA", "B F BB F B", "B F GG F B", "B F BB F B", "B F BB F B", "B F BB F B", "B F BB F B", "B F BB F B", "B F BB F B", "B F BBBHBB", "B F B     ", "B F B     ", "B F B     ", "BBHBB     ")
            .aisle("ABBBBBBBBA", "B   BB   B", "B   BB   B", "B   BB   B", "B   BB   B", "B   BB   B", "B   BB   B", "B   BB   B", "B   BB   B", "B   BBBBBB", "B   B     ", "B   B     ", "B   B     ", "BBBBB     ")
            .aisle("AAAAAAAAAA", "BBBBBBBEBB", "BBBBBBBBBB", "BBBBBBBBBB", "BBBBBBBBBB", "BBBBBBBBBB", "BBBBBBBBBB", "BBBBBBBBBB", "BBBBBBBBBB", "BBBBBBBBBB", "BBBBB     ", "BBBBB     ", "BBBBB     ", "BBBBB     ")
            .where("E", Predicates.controller(Predicates.blocks(definition.get())))
            .where("A", Predicates.blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                .or(Predicates.autoAbilities(*definition.recipeTypes))
                .or(Predicates.abilities(PartAbility.PARALLEL_HATCH).setMaxGlobalLimited(1))
                .or(Predicates.abilities(PartAbility.MAINTENANCE).setExactLimit(1))
                .or(Predicates.abilities(GTLAddPartAbility.THREAD_MODIFIER).setMaxGlobalLimited(1)))
            .where("B", Predicates.blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
            .where("C", Predicates.blocks(GCyMBlocks.HEAT_VENT.get()))
            .where("D", Predicates.heatingCoils())
            .where("F", Predicates.blocks(GTBlocks.HERMETIC_CASING_HV.get()))
            .where("G", Predicates.blocks(GTBlocks.CASING_STEEL_PIPE.get()))
            .where("H", Predicates.abilities(PartAbility.MUFFLER))
            .where("I", Predicates.blocks(GTBlocks.CASING_POLYTETRAFLUOROETHYLENE_PIPE.get()))
            .where("K", Predicates.blocks(GTBlocks.CASING_PTFE_INERT.get()))
            .where("M", Predicates.blocks(GTBlocks.HERMETIC_CASING_EV.get()))
            .where(" ", Predicates.any())
            .build()
    }

    val WOOD_DISTILLATION = Function { definition: MultiblockMachineDefinition ->
        FactoryBlockPattern.start()
            .aisle("ABBBA IIIII IIIII ABBBA", "AAAAA IIIII IIIII AAAAA", "CAAAC CIIIC CIIIC CAAAC", "C   C C   C C   C CCCCC", "CCCCC C   C C   C CAAAC", "CAAAC C   C CCCCC C   C", "C   C CCCCC CJJJC CAAAC", "CAAAC CJJJC CJJJC C   C", "C   C CJJJC CJJJC CAAAC", "CAAAC CJJJC CBBBC C   C", "C   C CBBBC C   C CBBBC", "CAAAC CCCCC CCCCC CDDDC", "C   C C   C CDDDC CDDDC", "CBBBC CCCCC CDDDC CDDDC", "CDDDC CDDDC CDDDC CCCCC", "CDDDC CDDDC CCCCC      ", "CCCCC CDDDC            ", "      CDDDC            ", "      CCCCC            ", "                       ")
            .aisle("BBBBB IKKKI IKKKI BBBBB", "AAAAA IKKKI IKKKI AAAAA", "ADDDA IDJDI IDJDI ADDDA", " DDD   DJD   DJD  CDDDC", "CDDDC  DJD   DJDC A   A", "A   A  DJD  CDJDC  EEE ", " EEE  CDJDC J   J A   A", "A   A J   J J   J  EEE ", " EEE  J   J J   J A   A", "A   A J   J B   B  EEE ", " EEE  B   B  DDD  B   B", "A   A CDDDC CDDDC D   D", " EEE   DDD  D   D D   D", "B   B CEEEC D   D D   D", "D   D D   D D   D CDDDC", "D   D D   D CDDDC  DDD ", "CDDDC D   D  DDD       ", " DDD  D   D            ", "      CDDDC            ", "       DDD             ")
            .aisle("BBBBB IKKKI IKKKI BBBBB", "AAGAA IKGKI IKGKI AAGAA", "ADGDA IJGJI IJGJI ADGDA", " DGD   JGJ   JGJ  CDGDC", "CDGDC  JGJ   JGJC A G A", "A G A  JGJ  CJGJC  EGE ", " EGE  CJGJC J   J A G A", "A G A J   J J   J  EGE ", " EGE  J   J J   J A G A", "A G A J   J B   B  EGE ", " EGE  B   B  DGD  B   B", "A G A CDGDC CDGDC D   D", " EEE   DGD  D   GGD   D", "B   B CEEEC D   D D   D", "D   GGG   D D   D CD DC", "D   D D   D CD DC  DDD ", "CD DC D   D  DDD       ", " DDD  D   D            ", "      CD DC            ", "       DDD             ")
            .aisle("BBBBB IKKKI IKKKI BBBBB", "AAAAA IKGKI IKGKI AAAAA", "ADDDA IDJDI IDJDI ADDDA", " DDD   DJD   DGD  CDDDC", "CDDDC  DJD   DJDC A   A", "A   A  DJD  CDJDC  EEE ", " EEE  CDJDC J   J A   A", "A   A J   J J   J  EEE ", " EEE  J   J J   J A   A", "A   A J   J B   B  EEE ", " EEE  B   B  DDD  B   B", "A   A CDDDC CDDDC D   D", " EEE   DDD  D   D D   D", "B   B CEEEC D   D D   D", "D   D D   D D   D CDDDC", "D   D D   D CDDDC  DDD ", "CDDDC D   D  DDD       ", " DDD  D   D            ", "      CDDDC            ", "       DDD             ")
            .aisle("ABBBA IKKKI IKKKI ABBBA", "AAAAA IIGII IIGII AAAAA", "CAAAC CIIIC CIIIC CAAAC", "C   C C   C C   C CCCCC", "CCCCC C   C C   C CAAAC", "CAAAC C   C CCCCC C   C", "C   C CCCCC CJJJC CAAAC", "CAAAC CJJJC CJJJC C   C", "C   C CJJJC CJJJC CAAAC", "CAAAC CJJJC CBBBC C   C", "C   C CBBBC C   C CBBBC", "CAAAC CCCCC CCCCC CDDDC", "C   C C   C CDDDC CDDDC", "CBBBC CCCCC CDDDC CDDDC", "CDDDC CDDDC CDDDC CCCCC", "CDDDC CDDDC CCCCC      ", "CCCCC CDDDC            ", "      CDDDC            ", "      CCCCC            ", "                       ")
            .aisle("                       ", "        G     G        ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ")
            .aisle("                       ", "        G     G        ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ")
            .aisle("                       ", "        G     G        ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ")
            .aisle("C   C  IIIIIIIII       ", "CCCCC  IGIIIIIGI       ", "CDDDC  IIIIIIIII       ", "CDDDC  IIIIIIIII       ", "CDDDC  IIIIIIIII       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ")
            .aisle("       IKKKKKKKI       ", "CDDDC  I       I       ", "D   D  I       I       ", "D   D  I       I       ", "D   D  IIIIIIIII       ", " DDD     I   I         ", "         I   I         ", "         I   I         ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ")
            .aisle("       IKKKKKKKI       ", "CDDDC  I       I       ", "D   D  I       I       ", "D   D  I       I       ", "D   D  IIEIIIEII       ", " DDD    IEI IEI        ", "        IEI IEI        ", "        IHI IHI        ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ")
            .aisle("       IKKKKKKKI       ", "CDDDC  I       I       ", "D   D  I       I       ", "D   D  I       I       ", "D   D  IIIIIIIII       ", " DDD     I   I         ", "         I   I         ", "         I   I         ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ")
            .aisle("       IILLLLLII       ", "CDDDC  IILLMLLII       ", "D   D  IILLLLLII       ", "D   D  IIIIIIIII       ", "D   D  IIIIIIIII       ", " DDD                   ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ")
            .aisle("                       ", "CDDDC                  ", "D   D                  ", "D   D                  ", "D   D                  ", " DDD                   ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ")
            .aisle("C   C                  ", "CCCCC                  ", "CDNDC                  ", "CDNDC                  ", "CDDDC                  ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ", "                       ")
            .where("M", Predicates.controller(Predicates.blocks(definition.get())))
            .where("I", Predicates.blocks(GTBlocks.CASING_INVAR_HEATPROOF.get()))
            .where("N", Predicates.blocks(GTBlocks.HERMETIC_CASING_HV.get()))
            .where("J", Predicates.blocks(GTBlocks.CASING_STAINLESS_EVAPORATION.get()))
            .where("E", Predicates.blocks(GTBlocks.FILTER_CASING.get()))
            .where("L", Predicates.blocks(GTBlocks.CASING_INVAR_HEATPROOF.get())
                .or(Predicates.abilities(PartAbility.INPUT_ENERGY).setMaxGlobalLimited(2).setPreviewCount(1))
                .or(Predicates.abilities(PartAbility.IMPORT_FLUIDS).setMaxGlobalLimited(2).setPreviewCount(1))
                .or(Predicates.abilities(PartAbility.IMPORT_ITEMS).setMaxGlobalLimited(2).setPreviewCount(1))
                .or(Predicates.abilities(PartAbility.EXPORT_FLUIDS).setMaxGlobalLimited(6).setPreviewCount(1))
                .or(Predicates.abilities(PartAbility.EXPORT_ITEMS).setMaxGlobalLimited(2).setPreviewCount(1))
                .or(Predicates.abilities(PartAbility.PARALLEL_HATCH).setMaxGlobalLimited(1).setPreviewCount(1))
                .or(Predicates.abilities(PartAbility.MAINTENANCE).setExactLimit(1))
                .or(Predicates.abilities(GTLAddPartAbility.THREAD_MODIFIER).setMaxGlobalLimited(1)))
            .where("B", Predicates.blocks(GCyMBlocks.HEAT_VENT.get()))
            .where("H", Predicates.abilities(PartAbility.MUFFLER))
            .where("D", Predicates.blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
            .where("G", Predicates.blocks(GTBlocks.CASING_STEEL_PIPE.get()))
            .where("K", Predicates.blocks(GTBlocks.FIREBOX_STEEL.get()))
            .where("C", Predicates.blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
            .where("A", Predicates.blocks(GTBlocks.CASING_ALUMINIUM_FROSTPROOF.get()))
            .where(" ", Predicates.any())
            .build()
    }

    val PCB_FACTORY = Function { definition: MultiblockMachineDefinition ->
        FactoryBlockPattern.start()
            .aisle("ibbbi  clllc     ", "ieeei  c   c     ", "ieeei  c   c     ", "ieeei  c   c     ", "i   i  c   c     ", "       c   c     ", "       c   c     ", "       c   c     ", "       c   c     ", "       clllc     ")
            .aisle("bbbbb  lllll     ", "e   e   lll      ", "e   e   lll      ", "e   e   lll      ", " bbb    lll      ", "        lll      ", "        lll      ", "        lll      ", "        lll      ", "       lllll     ")
            .aisle("bbbbb  lllll     ", "e   e   l l      ", "e   e   l l      ", "e   e   l l      ", " bbb    l l      ", "  b     l l      ", "  b     l l      ", "        l l      ", "        l l      ", "       lllll     ")
            .aisle("bbbbb  lllllg    ", "e   e   lll      ", "e   e   lll      ", "e   e   lll      ", " bbb    lll      ", "        lll      ", "  b     lll      ", "        lll      ", "        lll      ", "       lllll     ")
            .aisle("ibbbi  clllcghddh", "ieeei  c   c hddh", "ieeei  c   c hddh", "ieeei  c   c     ", "i   i  c   c     ", "       c   c     ", "  b    c   c     ", "       c   c     ", "       c   c     ", "       clllc     ")
            .aisle("            gdddd", "             d  d", "             d  d", "             hddh", "             hddh", "                 ", "  b              ", "                 ", "                 ", "                 ")
            .aisle("      ijjjjjidddd", "      ijjjjjid  d", "      ijjjjjid  d", "      ijjjjjid  d", "      i     id  d", "             hddh", "  b              ", "                 ", "                 ", "                 ")
            .aisle("ibbbi jkkkkkjdddd", "ieeei j     jd  d", "ieeei j     jd  d", "ieeei j     jd  d", "i   i jjjjjjjd  d", "      i     idddd", "  b          hddh", "                 ", "                 ", "                 ")
            .aisle("bbbbb jkkkkkjdddd", "e   e j     jd  d", "e   e j     jd  d", "e   e j     jd  d", " bbb  jjjjjjjd  d", "      i     idddd", "  b          hddh", "                 ", "                 ", "                 ")
            .aisle("bbbbbgjkkkkkjdddd", "e   e j     jd  d", "e   e j     jd  d", "e   e j     jd  d", " bbb  jjjjjjjd  d", "  b   iiiiiiidddd", "  b          hddh", "                 ", "                 ", "                 ")
            .aisle("bbbbb jkkkkkjdddd", "e   e j     jd  d", "e   e j     jd  d", "e   e j     jd  d", " bbb  jeeeeejd  d", "      i     idddd", "             hddh", "                 ", "                 ", "                 ")
            .aisle("ibbbi jkkkkkjdddd", "ieeei j     jd  d", "ieeei j     jd  d", "ieeei j     jd  d", "i   i jeeeeejd  d", "      i     idddd", "             hddh", "                 ", "                 ", "                 ")
            .aisle("      ijjajjidddd", "      ieeeeeid  d", "      ieeeeeid  d", "      ieeeeeid  d", "      iiiiiiid  d", "             hddh", "                 ", "                 ", "                 ", "                 ")
            .aisle("             dddd", "             d  d", "             d  d", "             hddh", "             hddh", "                 ", "                 ", "                 ", "                 ", "                 ")
            .aisle("             hddh", "             hddh", "             hddh", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
            .where("a", Predicates.controller(Predicates.blocks(definition.get())))
            .where("j", Predicates.blocks(GCyMBlocks.CASING_WATERTIGHT.get()).setMinGlobalLimited(60)
                .or(Predicates.autoAbilities(*definition.recipeTypes))
                .or(Predicates.abilities(PartAbility.PARALLEL_HATCH).setMaxGlobalLimited(1))
                .or(Predicates.abilities(PartAbility.MAINTENANCE).setExactLimit(1))
                .or(Predicates.abilities(GTLAddPartAbility.THREAD_MODIFIER).setMaxGlobalLimited(1)))
            .where("b", Predicates.blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
            .where("c", Predicates.blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.BlueSteel)))
            .where("d", Predicates.blocks(GTLBlocks.ANTIFREEZE_HEATPROOF_MACHINE_CASING.get()))
            .where("e", Predicates.blocks(GTBlocks.CASING_LAMINATED_GLASS.get()))
            .where("g", Predicates.blocks(GTBlocks.CASING_POLYTETRAFLUOROETHYLENE_PIPE.get()))
            .where("h", Predicates.blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Ultimet)))
            .where("i", Predicates.blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.HSLASteel)))
            .where("k", Predicates.blocks(GCyMBlocks.CASING_STRESS_PROOF.get()))
            .where("l", Predicates.blocks(GTBlocks.CASING_STAINLESS_EVAPORATION.get()))
            .where(" ", Predicates.any())
            .build()
    }

    val GRAVITATION_SHOCKBURST = Function { definition: MultiblockMachineDefinition ->
        FactoryBlockPattern.start()
            .aisle("aaaaaaaaa", "         ", "         ", "         ", "         ", "         ", "aaaaaaaaa")
            .aisle("aaaaaaaaa", " abbbbba ", " abbbbba ", " abbbbba ", " abbbbba ", " abbbbba ", "aaaaaaaaa")
            .aisle("aaaaaaaaa", " b ccc b ", " bcccccb ", " bcccccb ", " bcccccb ", " b ccc b ", "aaaaaaaaa")
            .aisle("aaaaaaaaa", " bcccccb ", " bcccccb ", " bcc ccb ", " bcccccb ", " bcccccb ", "aaaaaaaaa")
            .aisle("aaaaaaaaa", " bcccccb ", " bcc ccb ", " bc   cb ", " bcc ccb ", " bcccccb ", "aaaaaaaaa")
            .aisle("aaaaaaaaa", " bcccccb ", " bcccccb ", " bcc ccb ", " bcccccb ", " bcccccb ", "aaaaaaaaa")
            .aisle("aaaaaaaaa", " b ccc b ", " bcccccb ", " bcccccb ", " bcccccb ", " b ccc b ", "aaaaaaaaa")
            .aisle("aaaaaaaaa", " abbbbba ", " abbbbba ", " abbbbba ", " abbbbba ", " abbbbba ", "aaaaaaaaa")
            .aisle("aaaa~aaaa", "         ", "         ", "         ", "         ", "         ", "aaaaaaaaa")
            .where("a", Predicates.blocks(GTLBlocks.CREATE_CASING.get())
                .or(Predicates.abilities(PartAbility.IMPORT_ITEMS).setMaxGlobalLimited(1))
                .or(Predicates.abilities(PartAbility.EXPORT_ITEMS).setMaxGlobalLimited(1))
                .or(Predicates.abilities(PartAbility.PARALLEL_HATCH).setExactLimit(1))
                .or(Predicates.abilities(PartAbility.INPUT_LASER).setMaxGlobalLimited(1))
                .or(Predicates.abilities(GTLAddPartAbility.THREAD_MODIFIER).setMaxGlobalLimited(1)))
            .where("b", Predicates.blocks(GTLBlocks.INFINITY_GLASS.get()))
            .where("c", Predicates.blocks(ChemicalHelper.getBlock(TagPrefix.block, GTLMaterials.Infinity)))
            .where("~", Predicates.controller(Predicates.blocks(definition.get())))
            .where(" ", Predicates.any())
            .build()
    }

    val ADVANCED_NEUTRON_ACTIVATOR = Function { definition: MultiblockMachineDefinition ->
        FactoryBlockPattern.start()
            .aisle("       AAAAAAA       ", "       AAAAAAA       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       AAAAAAA       ", "       AAAAAAA       ")
            .aisle("     AABBBBBBBAA     ", "     AA   C   AA     ", "         C           ", "        C            ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "            D        ", "           D         ", "          D          ", "         D           ", "        D            ", "                     ", "                     ", "            C        ", "           C         ", "          C          ", "         C           ", "        C            ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "            D        ", "           D         ", "     AA   D   AA     ", "     AABBBBBBBAA     ")
            .aisle("   AABBBEEEEEBBBAA   ", "   AA   FFFFF   AA   ", "        FFFFF        ", "        FFFFF        ", "       CFFFFF        ", "      C FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF D      ", "        FFFFFD       ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "       DFFFFF C      ", "      D FFFFFC       ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "       CFFFFF        ", "      C FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF D      ", "        FFFFFD       ", "        FFFFF        ", "        FFFFF        ", "   AA   FFFFF   AA   ", "   AABBBEEEEEBBBAA   ")
            .aisle(" AABBBEEEEEEEEEBBBAA ", " AA   FFFGFGFFF   AA ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "     CFFFGFGFFF      ", "    C FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF D    ", "      FFFGFGFFFD     ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF C    ", "      FFFGFGFFFC     ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "     DFFFGFGFFF      ", "    D FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "     CFFFGFGFFF      ", "    C FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF D    ", "      FFFGFGFFFD     ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", " AA   FFFGFGFFF   AA ", " AABBBEEEEEEEEEBBBAA ")
            .aisle("ABBBEEEEEEEEEEEEEBBBA", "A  DFFFGFFFFFGFFF   A", "A D FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A  CFFFGFFFFFGFFF D A", "A C FFFGFFFFFGFFFD  A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF C A", "A   FFFGFFFFFGFFFC  A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A  DFFFGFFFFFGFFF   A", "A D FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A  CFFFGFFFFFGFFF D A", "A C FFFGFFFFFGFFFD  A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF C A", "A   FFFGFFFFFGFFFC  A", "ABBBEEEEEEEEEEEEEBBBA")
            .aisle("HBEEEEEEEEEEEEEEEEEBH", "H FFFGFFIIIIIFFGFFF H", "  FFFGFFIIIIIFFGFFF  ", " DFFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFFD ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", " CFFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFFC ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", " DFFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFFD ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", " CFFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFFC ", "  FFFGFFIIIIIFFGFFF  ", "A FFFGFFIIIIIFFGFFF A", "ABEEEEEEEEEEEEEEEEEBA")
            .aisle("HBEEEEEEEEEEEEEEEEEBH", "H FGFFFGIJIJIGFFFGF H", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", " DFGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGFD ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", " CFGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGFC ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", " DFGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGFD ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", " CFGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGFC ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "A FGFFFGIJIJIGFFFGF A", "ABEEEEEEEEEEEEEEEEEBA")
            .aisle("HBEEEEEEEEEEEEEEEEEBH", "H FFFGFFIIIIIFFGFFF H", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", " DFFFGFFIIIIIFFGFFFD ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", " CFFFGFFIIIIIFFGFFFC ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", " DFFFGFFIIIIIFFGFFFD ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", " CFFFGFFIIIIIFFGFFFC ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "A FFFGFFIIIIIFFGFFF A", "ABEEEEEEEEEEEEEEEEEBA")
            .aisle("HBEEEEEEEEEEEEEEEEEBH", "H FGFFFGIJIJIGFFFGF H", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGFD ", "  FGFFFGIJIJIGFFFGF  ", " DFGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGFC ", "  FGFFFGIJIJIGFFFGF  ", " CFGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGFD ", "  FGFFFGIJIJIGFFFGF  ", " DFGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGFC ", "  FGFFFGIJIJIGFFFGF  ", " CFGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "  FGFFFGIJIJIGFFFGF  ", "A FGFFFGIJIJIGFFFGF A", "ABEEEEEEEEEEEEEEEEEBA")
            .aisle("HBEEEEEEEEEEEEEEEEEBH", "H FFFGFFIIIIIFFGFFF H", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFFD ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", " DFFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFFC ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", " CFFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFFD ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", " DFFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFFC ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", " CFFFGFFIIIIIFFGFFF  ", "  FFFGFFIIIIIFFGFFF  ", "A FFFGFFIIIIIFFGFFF A", "ABEEEEEEEEEEEEEEEEEBA")
            .aisle("ABBBEEEEEEEEEEEEEBBBA", "A   FFFGFFFFFGFFFD  A", "A   FFFGFFFFFGFFF D A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A D FFFGFFFFFGFFFC  A", "A  DFFFGFFFFFGFFF C A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A C FFFGFFFFFGFFF   A", "A  CFFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFFD  A", "A   FFFGFFFFFGFFF D A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A D FFFGFFFFFGFFFC  A", "A  DFFFGFFFFFGFFF C A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A   FFFGFFFFFGFFF   A", "A C FFFGFFFFFGFFF   A", "A  CFFFGFFFFFGFFF   A", "ABBBEEEEEEEEEEEEEBBBA")
            .aisle(" AABBBEEEEEEEEEBBBAA ", " AA   FFFGFGFFF   AA ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFFC     ", "      FFFGFGFFF C    ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "    D FFFGFGFFF      ", "     DFFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "    C FFFGFGFFF      ", "     CFFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFFD     ", "      FFFGFGFFF D    ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFFC     ", "      FFFGFGFFF C    ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "    D FFFGFGFFF      ", "     DFFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", "      FFFGFGFFF      ", " AA   FFFGFGFFF   AA ", " AABBBEEEEEEEEEBBBAA ")
            .aisle("   AABBBEEEEEBBBAA   ", "   AA   FFFFF   AA   ", "        FFFFF        ", "        FFFFF        ", "        FFFFFC       ", "        FFFFF C      ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "      D FFFFF        ", "       DFFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "      C FFFFFD       ", "       CFFFFF D      ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFFC       ", "        FFFFF C      ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "        FFFFF        ", "      D FFFFF        ", "       DFFFFF        ", "        FFFFF        ", "        FFFFF        ", "   AA   FFFFF   AA   ", "   AABBBEEEEEBBBAA   ")
            .aisle("     AABBBBBBBAA     ", "     AA   C   AA     ", "           C         ", "            C        ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "        D            ", "         D           ", "          D          ", "           D         ", "            D        ", "                     ", "                     ", "        C            ", "         C           ", "          C          ", "           C         ", "            C        ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "                     ", "        D            ", "         D           ", "     AA   D   AA     ", "     AABBBBBBBAA     ")
            .aisle("       AHHHHHA       ", "       AHHKHHA       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       A     A       ", "       AAAAAAA       ", "       AAAAAAA       ")
            .where('K', Predicates.controller(Predicates.blocks(definition.get())))
            .where('A', Predicates.blocks(GTLBlocks.SPS_CASING.get()))
            .where('B', Predicates.blocks(GTLBlocks.DIMENSIONALLY_TRANSCENDENT_CASING.get()))
            .where('C', Predicates.frames(GTLMaterials.Quantanium))
            .where('D', Predicates.frames(GTLMaterials.Vibranium))
            .where('E', Predicates.blocks(GTLBlocks.HYPER_MECHANICAL_CASING.get()))
            .where('F', Predicates.blocks(GTBlocks.FUSION_GLASS.get()))
            .where('G', Predicates.blocks(Registries.getBlock("kubejs:speeding_pipe")))
            .where('H', Predicates.blocks(GTLBlocks.SPS_CASING.get())
                .or(Predicates.autoAbilities(*definition.recipeTypes))
                .or(Predicates.abilities(PartAbility.INPUT_ENERGY).setMinGlobalLimited(1).setMaxGlobalLimited(2).setPreviewCount(1))
                .or(Predicates.abilities(PartAbility.INPUT_LASER).setMinGlobalLimited(0).setMaxGlobalLimited(2))
                .or(Predicates.autoAbilities(true, false, true))
                .or(Predicates.abilities(GTLAddPartAbility.THREAD_MODIFIER).setMaxGlobalLimited(1)))
            .where('I', Predicates.blocks(GTLBlocks.HSSS_REINFORCED_BOROSILICATE_GLASS.get()))
            .where('J', Predicates.blocks(Registries.getBlock("kubejs:neutronium_pipe_casing")))
            .where(' ', Predicates.any())
            .build()
    }

    val ATOMIC_ENERGY_EXCITATION_PLANT = Function { definition: MultiblockMachineDefinition ->
        FactoryBlockPattern.start()
            .aisle("                   ", "                   ", "                   ", "                   ", "         A         ", "        ABA        ", "        CCC        ", "        ABA        ", "         A         ", "                   ", "                   ", "                   ", "                   ")
            .aisle("DDD             DDD", "DDD     AAA     EEE", "EEE   AA A AA   EEE", "EEE  A   A   A  EEE", "EEE  A  AAA  A   B ", " A  A  AA#AA  A  A ", " AAAB  CC#CC  BAAA ", "    A  AA#AA  A    ", "     A  AAA  A     ", "     A   A   A     ", "      AA A AA      ", "        ABA        ", "                   ")
            .aisle("DDD     AAA     DDD", "D#D   AAFGFAA   E#E", "E#E  AHHAHAHHA  E#E", "E#E AHAAAHAAAHA E#E", "E#E AHA AIA AHA A#A", "AHAAFA B###B AFAAHA", "AFHHGA C#J#C AGHHFA", " AAAFA B###B AFAAA ", "    AHA AIA AHA    ", "    AHAAAHAAAHA    ", "     AHHAHAHHA     ", "      AAFGFAA      ", "        AAA        ")
            .aisle("D~D             DDD", "DDD     AAA     EEE", "EEE   AA A AA   EEE", "EEE  A   A   A  EEE", "EEE  A  AAA  A   B ", " A  A  AA#AA  A  A ", " AAAB  CC#CC  BAAA ", "    A  AA#AA  A    ", "     A  AAA  A     ", "     A   A   A     ", "      AA A AA      ", "        ABA        ", "                   ")
            .aisle("                   ", "                   ", "                   ", "                   ", "         A         ", "        ABA        ", "        CCC        ", "        ABA        ", "         A         ", "                   ", "                   ", "                   ", "                   ")
            .where("~", Predicates.controller(Predicates.blocks(definition.get())))
            .where("A", Predicates.blocks(GTLBlocks.DEGENERATE_RHENIUM_CONSTRAINED_CASING.get()))
            .where("B", Predicates.blocks(GTLBlocks.RHENIUM_REINFORCED_ENERGY_GLASS.get()))
            .where("C", Predicates.heatingCoils())
            .where("D", Predicates.blocks(GTLBlocks.DIMENSIONALLY_TRANSCENDENT_CASING.get())
                .or(Predicates.abilities(PartAbility.INPUT_ENERGY).setMaxGlobalLimited(2))
                .or(Predicates.abilities(PartAbility.INPUT_LASER).setMaxGlobalLimited(1))
                .or(Predicates.abilities(PartAbility.IMPORT_FLUIDS).setMaxGlobalLimited(4))
                .or(Predicates.abilities(PartAbility.IMPORT_ITEMS).setMaxGlobalLimited(1))
                .or(Predicates.abilities(PartAbility.EXPORT_FLUIDS).setMaxGlobalLimited(1))
                .or(Predicates.abilities(PartAbility.MAINTENANCE).setExactLimit(1))
                .or(Predicates.abilities(PartAbility.PARALLEL_HATCH).setMaxGlobalLimited(1))
                .or(Predicates.abilities(GTLAddPartAbility.THREAD_MODIFIER).setMaxGlobalLimited(1)))
            .where("E", Predicates.blocks(GTLBlocks.DIMENSION_INJECTION_CASING.get()))
            .where("F", Predicates.blocks(Registries.getBlock("kubejs:accelerated_pipeline")))
            .where("G", Predicates.blocks(Registries.getBlock("kubejs:restraint_device")))
            .where("H", Predicates.blocks(Registries.getBlock("kubejs:neutronium_pipe_casing")))
            .where("I", Predicates.blocks(Registries.getBlock("kubejs:containment_field_generator")))
            .where("J", Predicates.blocks(Registries.getBlock("kubejs:aggregatione_core")))
            .where(" ", Predicates.any())
            .where("#", Predicates.air())
            .build()
    }
}
